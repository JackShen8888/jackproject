

    public  String getMd5SignStr(Map<String, Object> params) {

        String[] sortedKeys = params.keySet().toArray(new String[]{}); //将key取出放数组
        Arrays.sort(sortedKeys);// 排序请求参数
        StringBuilder s2 = new StringBuilder();
        for (String key : sortedKeys) {
            s2.append(key).append(params.get(key));   //name123sssssdf
        }
        if (s2.toString().trim().length() == 0) {
            return "";
        }
        return s2.toString();
    }


    @Test
    public void test() throws IOException, ParseException {
        String secret_key = "9cc743e57a539296a587a50dedbd2ffb";
        Map map = new HashMap();
        //赋值
        VhallCommonParam vhallCommonParam = new VhallCommonParam();
        vhallCommonParam.app_key = "3607c5f95326a420faf2f85667479f73";
        vhallCommonParam.sign_type = "0";
        vhallCommonParam.signed_at = new Date().getTime()+"";
        vhallCommonParam.third_user_id = "1233432456";
        vhallCommonParam.pass = "123456";
        map.put("app_key",vhallCommonParam.app_key);
        map.put("sign_type",vhallCommonParam.sign_type);
        map.put("signed_at",vhallCommonParam.signed_at);
        map.put("third_user_id",vhallCommonParam.third_user_id);
        map.put("pass",vhallCommonParam.pass);
        String signStr =  getMd5SignStr(map);
        System.out.println(secret_key +signStr  + secret_key);
        map.put("sign", MD5Util.MD5(secret_key +signStr  + secret_key).toLowerCase());

        String s = SimpleHttpClientUtil.send("https://saas-open.vhall.com/v3/users/open-user/create", map);
        System.out.println(111);
    }
